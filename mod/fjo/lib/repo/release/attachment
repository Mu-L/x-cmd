# shellcheck shell=bash disable=SC2034,SC2154 disable=SC2154

# Section : attachment

___x_cmd_fjo_repo_release_attachment(){
    param:subcmd ___x_cmd_fjo_repo_release_attachment    \
        "create|c"          "upload attachment"                 \
        rm                  "delete attachment"                 \
        "ls"                "list release's attachment"
    param:subcmd:try
    param:run


    ___x_cmd_fjo_repo_release_attachment _param_help_doc
    return 1
}

# https://gitea.com/api/swagger#/repository/repoListReleaseAttachments
___x_cmd_fjo_repo_release_attachment_ls() {


    param:scope     ___x_cmd_fjo
    param:dsl    '
options:
    #1        "Release ID"                <>:number
'
    param:run
    local release="${1:?release id must be specified}"
    ___x_cmd_fjo_repo_release_init_owner_repo_and_release
}

# Provide multiple files
# https://gitea.com/api/swagger#/repository/repoCreateReleaseAttachment
___x_cmd_fjo_repo_release_attachment_create() {

    param:scope     ___x_cmd_fjo
    param:dsl    '
options:
    #1        "Release ID"                <>:number
'
    param:run
    local release="${1:?release id must be specified}"
    ___x_cmd_fjo_repo_release_init_owner_repo_and_release
}

# Delete the file in attachment list
# https://gitea.com/api/swagger#/repository/repoDeleteReleaseAttachment
___x_cmd_fjo_repo_release_attachment_rm() {


    param:scope     ___x_cmd_fjo
    param:dsl    '
options:
    #1        "Release ID"                <>:number
'
    param:run
    local release="${1:?release id must be specified}"
    ___x_cmd_fjo_repo_release_init_owner_repo_and_release
}

# EndSection

