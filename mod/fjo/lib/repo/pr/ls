

# Section: ls info log comments view
#TODO: the labels type of Array
# https://gitea.com/api/swagger#/repository/repoListPullRequests
___x_cmd_fjo_repo_pr_ls() {
    param:scope     ___x_cmd_fjo
    param:dsl       '
options:
    --repo|-r          "Provide owner name and repo name.(default:the current user repo)"  <>:RepoName
    --state         "state"                                                             <>:PrState=""      = all closed open
    --sort          "sort"                                                              <>=""       = oldest recentupdate leastupdate mostcomment leastcomment priority
    --milestone     "ID of the milestone"                                               <>:Number=""
    --labels        "Label IDs"                                                         <>:Array=""
    --limit         "Results per page"                                                  <>:Numbers="30"
    --page          "Page number of the results to fetch."                              <>:Numbers="1"

    --json|-j   "output json data"
'
    param:run

    ___x_cmd_fjo_param_init_owner_repo
    # ___X_CMD_UI_STATIC=1 ___tea_ui_mutual '___ui_table_json number=.number state=.state title=.title url=.html_url -- $@' \
    #     ___x_cmd_fjo_curl get "/repos/$owner_repo/pulls" state sort
    ___x_cmd_fjo_curl get "/repos/$owner_repo/pulls" state sort |\
        ___x_cmd jo 2c .number .state .title |\
        ___x_cmd csv header --add   Number   State   Title |\
        if [ -n "$csv" ]; then  ___x_cmd_cmds cat
        else                    ___x_cmd csv static_tab
        fi
}


