# shellcheck shell=dash disable=SC2034

___x_cmd log init openai
xrc param
xrc:mod:lib     openai      cfg request handler audio image embedding finetuning chat/_index

___X_CMD_OPENAI_ENDPOINT="https://api.openai.com"

___x_cmd_openai___main(){
    local X_help_cmd=; X_help_cmd='x help -m openai' help:arg-null:parse

    local ___openai_endpoint_tmp=
    ___x_cmd_openai_cur ___openai_endpoint_tmp:=endpoint   2>/dev/null
    ___X_CMD_OPENAI_ENDPOINT="${___openai_endpoint_tmp:-"$___X_CMD_OPENAI_ENDPOINT"}"

    local op="$1"; shift
    case "$op" in
        init|--init)    ___x_cmd_openai_init        "$@" ;;
        --cfg|--cur)    ___x_cmd_openai_"${op#--}"  "$@" ;;
        --request)      ___x_cmd_openai_request     "$@" ;;
        handler)        ___x_cmd_openai_handler     "$@" ;;

        transcribe|image|finetuning|embedding|audio|chat)
                        "___x_cmd_openai_${op}"         "$@" ;;
        *)              N=openai M="Not support such [subcmd=$op]" log:ret:64
    esac
}


