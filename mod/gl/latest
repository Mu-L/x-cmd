# shellcheck shell=sh
# shellcheck disable=SC2039,3043

# author:       Li Junhao           edwin.jh.lee@gmail.com    edwinjhlee.github.io
# maintainer:   Li Junhao

# loading dependencies
xrc http param ui
xrc ui/lib/table gh/lib/resource

xrc:inner:lib gl utils config current token user/main issue/main project/main project/member project/tag project/label groups/main groups/member \
    project/branch/index project/apply/index project/pr/main project/branch/protection webhook/index project/release/index project/variable/index \
    groups/variable/index 

x log init gl
___x_cmd_gl(){
    param:advise gl
    param:subcmd ___x_cmd_gl            \
        user        "user"              \
        project     "project command"   \
        config      "save, load, which" \
        current     "current user"      \
        groups      "groups manage"     \
        subgroup    "subgroups manage"  \
        issue       "issue manage"      \
        token       "set token"
    param:subcmd:try
    param:run

    ___x_cmd_gl _param_help_doc
    return 1
}

[ -d "$HOME/.x-cmd/.tmp/gl" ] || mkdir -p "$HOME/.x-cmd/.tmp/gl"
xrc setmain ___x_cmd_gl

