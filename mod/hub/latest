# Author:       Li Junhao   l@x-cmd.com     # xrc
# shellcheck    shell=sh    disable=SC2039,SC1090,SC3043,SC2263,SC1091

x log init hub
xrc ui/lib/select ui/lib/truefalse http param
xrc:mod:lib hub  advise util file share account/weixin \
    account/login account/user account/token account/bind account/index msg exec stat token

___X_CMD_HUB_ENV="$___X_CMD_ROOT/.hub"
x mkdirp "$___X_CMD_HUB_ENV"

___x_cmd_hub(){
    param:advise hub
    param:subcmd ___x_cmd_hub                                 \
        file           "Manage files"                         \
        share          "Share management, you can share or public a file/dir to other people" \
        account        "Account management"                   \
        stat           "Show flow usage of files in hub"      \
        token          "Token management, set token policy or generate token"                 \
        exec           "Execute remote script"
    param:subcmd:try

    # TODO: remove msg to other module
    # msg            "Send message to your social Account"  \

    param:subcmd ___x_cmd_hub_account                 \
        login         "Login to hub service"
    param:subcmd:try

    param:run

    ___x_cmd_hub___util_subcmd_invalid "" "$@"
}

xrc setmain ___x_cmd_hub
