# shellcheck shell=sh disable=SC3043


___x_cmd_llmf_model_which(){
    local model_name="${1}"
    local model_version="${2}"
    local model_quant="${3}"
    local model_type=""
    local model_dir="${___X_CMD_ROOT_DATA}"/llmf/model

    local tmp_version=""
    tmp_version="$(printf "%s" "${model_version}" | sed 's/\./\\./g')"

    x jo env . model_type=".${tmp_version}.${model_quant}.format"    \
                < "${model_dir}/data/${model_name}-${model_version}.${model_quant}.json"
    [ -n "$model_type" ] || N=llmf M="The model does not exist." log:ret:1

    local filePath="${model_dir}/${model_name}-${model_version}.${model_quant}.${model_type}"
    [ -f "${filePath}" ] || N=llmf M="The model does not exist." log:ret:1

    printf "%s\n" "${filePath}"
}
