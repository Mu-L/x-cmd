# shellcheck shell=sh disable=SC3043

# using a csv app

# Using ls_remote
___x_cmd_llmf_model_nv(){
    local selected; selected="$(___x_cmd_llmf_model_ls___app)" || return
    [ "$selected" ] || return
    local id=
    x ui select id "Next"   \
       "Setting the default [model=$selected]" \
       "EXIT"

    case "$id" in
        1)
            ___x_cmd_llmf_model_default set "$selected" || return

            ___x_cmd_llmf_model_exist "$selected" || {
                llmf:info "cmd -> \`x llmf model download $selected\`"
                if x ui yesno "Do you want to download [mode=$selected] ?"; then
                    ___x_cmd_llmf_model_download "$selected" || return
                fi
            }
            ;;
        *)  return ;;
    esac

    local x_=; ___x_cmd_llmf_model_default get_
    llmf:info "Current default model is ${x_:-"undefined"}"
}
