# shellcheck shell=dash

___X_CMD_PYTHON_LOADED=
___x_cmd_python_loaded(){
    [ -n "$___X_CMD_PYTHON_LOADED" ]
}

___x_cmd_python_load(){
    ! ___x_cmd_python_loaded || return

    ___x_cmd_python_load_checkenv || {
        x:warn "Cannot find python installed in this current environment"
        ___x_cmd_python_load_env
        return
    }

    # TODO: In the future, we need to check the current version is good enough.
    
    ___X_CMD_PYTHON_LOADED=1

    ___x_cmd_python___cmd(){
        command "$@"
    }
}

___x_cmd_python_load_env(){
    # TODO: add quiet
    x:info "Loading python in this shell env using 'x env try python'"
    x env try python
}

# TODO: Add yes and quiet in the future
___x_cmd_python_load_checkenv(){
    x hascmd python   || return
}
