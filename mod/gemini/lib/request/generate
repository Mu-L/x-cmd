# shellcheck shell=dash

# Define function tools
#   -d '{"contents":[{"parts":[{"text":"Write a story about a magic backpack"}]}]}' \
___x_cmd_gemini_request_generaxwtecontent(){
    local content="$1"
    local model="$2"        # optional

    local apikey

    ___x_cmd_gemini_cur     apikey:=    model:= 2>/dev/null
    model="${model:-gemini-pro}"

    [ -n "$apikey" ] || {
        gemini:error "Please setting up your apikey first ==> 'x gemini --cfg apikey=<your apikey>'"
        return 1
    }

    x curl  -s \
        -H 'Content-Type: application/json' \
        -d  "$content"                      \
        "${___X_CMD_GEMINI_ENDPOINT}/v1beta/models/${model}:generateContent?key=${apikey}"

}
