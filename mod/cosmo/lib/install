
___x_cmd_cosmo___install(){
    local cosmobin="$1"
    local bin_dir_path="$2"

    [ -n "$bin_dir_path" ] || {
        if ___x_cmd_is_interactive; then
            xrc path
            cosmo:info "Select the target dir path you want to install cosmo binary"
            bin_dir_path="$(___x_cmd_path_lsapp)" || true
            [ -d "$bin_dir_path" ] || bin_dir_path="${bin_dir_path%/*}"
        fi
    }

    [ -d "$bin_dir_path" ] ||
        N=cosmo M="bin directory does not exist -> $bin_dir_path" log:ret:1

    local x_=;
    ___x_cmd_cosmo___which_ "$cosmobin" || N=cosmo M="cosmo bin not found" log:ret:1

    local tgt="$___X_CMD_COSMO_ASSIMILATE_PATH/$cosmobin"

    cosmo:info "Assimilate the cosmobin -> $cosmobin to $tgt"
    [ -f "$tgt" ] ||  x cosmo assimilate -o "$tgt" "$x_"

    if [ ! -w "$bin_dir_path" ]; then
        cosmo:warn "Require sudo to writing directory -> $bin_dir_path"
        x sudo cp "$tgt" "$bin_dir_path"
    else
        ___x_cmd_cmds cp "$tgt" "$bin_dir_path"
    fi
}

___x_cmd_cosmo___install_assimulate(){
    x cosmo assimulate "$1" "$___X_CMD_COSMO_ASSIMULATE_PATH/$1"
}
